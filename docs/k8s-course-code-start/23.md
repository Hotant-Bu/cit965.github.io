---
sidebar_label: '23'
sidebar_position: 11
title: 第二十三课
---

### PR #197

![](https://raw.githubusercontent.com/mouuii/picture/master/%E6%88%AA%E5%B1%8F2023-05-09%20%E4%B8%8B%E5%8D%8810.08.34.png)

### PR #201
> Cleanup handling of config channels in RunSyncLoop

### PR #192
> Logging + Misc cleanup

```go
// Implement http.ResponseWriter
func (rl *respLogger) Header() http.Header {
	return rl.w.Header()
}

// Implement http.ResponseWriter
func (rl *respLogger) Write(b []byte) (int, error) {
	return rl.w.Write(b)
}

// Implement http.ResponseWriter
func (rl *respLogger) WriteHeader(status int) {
	rl.status = status
	if status != http.StatusOK && status != http.StatusAccepted {
		// Only log stacks for errors
		stack := make([]byte, 2048)
		stack = stack[:runtime.Stack(stack, false)]
		rl.statusStack = "\n" + string(stack)
	} else {
		rl.statusStack = ""
	}
	rl.w.WriteHeader(status)
}
```


### PR #209
> Fix boilerplate everywhere + add hook to keep it fixed